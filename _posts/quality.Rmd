---
title: "Quality of Classification Map of the University Forest Caldern"
output: 
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(rgdal)
library(link2GI)
library(mapview)
library(raster)
library(RColorBrewer)
species = readOGR("../page/mof_realdata.shp")
nam = readRDS("../page/labels_crowns.rds")
names(species) = nam
```
[Return](https://goergen95.github.io/mof_caldern.github.io/)

## Quality of Classification of the University Forest Caldern
This is the map of the quality of the species classification for the University Forest Caldern. Each segment is classified to a specific species by counting the pixels within the segment. The majority class is used to label the segment.
[Quality](https://github.com/GeoMOER-Students-Space/mpg-envinfosys-teams-2018-rs_18_axmideda/blob/master/src/011_structure_values.R#L62) thus is measured here by the percentage of the majority pixels within a tree segment.
Trees where two or more classes have the same number of pixels within a segment were excluded because no clear species label could be attributed to these segments.

By clicking on ploygons you will get addtional information including:
```{r echo = FALSE}
df = data.frame(variable = names(species))
expl = c("Tree Identification Number",
         "Maximum Height",
         "Crown Area (in meter)",
         "Average vertical Density",
         "Number of pixels classified as Beech",
         "Number of pixels classified as Douglas Spruce",
         "Number of pixels classified as Oak",
         "Number of pixels classified as Spruce",
         "Total number of Pixels",
         "Percentage of maximum class",
         "Classification Result",
         "Number of trees in 1 acre environment",
         "Percantage of crown cover in 1 acre environment",
         "Average free space per stem in 1 acre environment",
         "Number of direct neighbors",
         "Entropy value based on number of tress ",
         "Entropy value based on species in 10 meter environment",
         "Entropy value based on species in 30 meter environment",
         "Entropy value based on species in one acre environment"
         )
df$explanation = expl
df
```


```{r echo = FALSE, warning=FALSE}

redgreen = grDevices::colorRampPalette(c("red","green"))

 mapview::mapview(species, zcol = c("quality"),
                       color = "black",
                       at = seq(25,100,5),
                       col.regions = redgreen(16),
                       na.color = "grey",
                       lwd = 0.1,
                       legend = TRUE,
                  layer.name = "Quality of Classification")


```

[Return](https://goergen95.github.io/mof_caldern.github.io/)

